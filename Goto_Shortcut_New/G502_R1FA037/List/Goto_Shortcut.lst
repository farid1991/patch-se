##############################################################################
#                                                                            #
# IAR ARM ANSI C/C++ Compiler V4.42A/W32 EVALUATION    17/May/2012  19:35:37 #
# Copyright 1999-2005 IAR Systems. All rights reserved.                      #
#                                                                            #
#    Cpu mode        =  interwork                                            #
#    Endian          =  little                                               #
#    Stack alignment =  4                                                    #
#    Source file     =  E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\Goto_S #
#                       hortcut.c                                            #
#    Command line    =  E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\Goto_S #
#                       hortcut.c -D A2 -D DB3150v1 -D G502_R1FA037          #
#                       --preprocess=cl E:\MOd\ELFs\SVN\patch\Patch_Goto_Sho #
#                       rtcut_New\G502_R1FA037\List\ -lC                     #
#                       E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\G502_R #
#                       1FA037\List\ -lA E:\MOd\ELFs\SVN\patch\Patch_Goto_Sh #
#                       ortcut_New\G502_R1FA037\List\ -o                     #
#                       E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\G502_R #
#                       1FA037\Obj\ -z9 --debug --cpu_mode thumb --endian    #
#                       little --cpu ARM926EJ-S --stack_align 4 --interwork  #
#                       -e --enable_multibytes --fpu None --eec++            #
#                       --preinclude E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortc #
#                       ut_New\Target\G502_R1FA037.h -I "E:\MOd\ELFs\IAR     #
#                       4.2\ARM\INC\" --inline_threshold=2                   #
#    List file       =  E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\G502_R #
#                       1FA037\List\Goto_Shortcut.lst                        #
#    Object file     =  E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\G502_R #
#                       1FA037\Obj\Goto_Shortcut.r79                         #
#                                                                            #
#                                                                            #
##############################################################################

E:\MOd\ELFs\SVN\patch\Patch_Goto_Shortcut_New\Goto_Shortcut.c
      1          /*"Patch in C++" template by UltraShot*/
      2          
      3          /*
      4          ;Change Right Softkey in Standby to "GoTo Shortcut".
      5          ;Items: Inbox, Music player, Alarms, Calendar, Profiles, Bluetooth
      6          ;Added Music State(Title - Artist) at 2ndLine of Music player item
      7          ;Added Alarm State(ALarmType : Hour.Minutes) at 2ndLine of Alarm item
      8          ;Added Date state(Weekday,Date-Mon-Year) at 2ndLine of Calendar item
      9          ;Added Active Profile at 2ndLine of Profiles item(new algoritm)
     10          ;Added Bluetooth state(On-Off) at 2ndLine of Bluetooth item
     11          ;Improved code
     12          ;v 2
     13          ;(c) farid
     14          ;(r) mobilefree.ru
     15          */
     16          
     17          #include "Types.h"
     18          #include "Function.h"
     19          
     20          #include "inc\types.h"
     21          #include "inc\editor.h"
     22          #include "inc\utils.h"
     23          #include "inc\strlib.h"
     24          
     25          #define BASE_PAGE_NAME "Goto_Shortcut_Base_Page"
     26          #define MAIN_PAGE_NAME "Goto_Shortcut_Main_Page"
     27          
     28          void ShortcutFree(void *Item);
     29          

   \                                 In segment CODE, align 4, keep-with-next
     30          __thumb void * malloc (int size)
     31          {
   \                     malloc:
   \   00000000   10B5               PUSH     {R4,LR}
     32          #ifdef DB2020
     33            return(memalloc(0,size,1,5,"gt",0));
     34          #elif A2
     35            return(memalloc(0xFFFFFFFF,size,1,5,"gt",0));
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0523               MOVS     R3,#+5
   \   00000006   0400               MOVS     R4,R0
   \   00000008   ....               ADR      R0,??DataTable1  ;; "gt"
   \   0000000A   03B4               PUSH     {R0,R1}
   \   0000000C   0122               MOVS     R2,#+1
   \   0000000E   2100               MOVS     R1,R4
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   C043               MVNS     R0,R0
   \   00000014   ........           _BLF     memalloc,??memalloc??rT
   \   00000018   1CBD               POP      {R2-R4,PC}       ;; return
     36          #else
     37            return(memalloc(size,1,5,"gt",0));
     38          #endif
     39          }
     40          

   \                                 In segment CODE, align 4, keep-with-next
     41          __thumb void mfree (void * mem)
     42          {
   \                     mfree:
   \   00000000   00B5               PUSH     {LR}
     43          #ifdef DB2020  
     44            if (mem) memfree(0, mem,"gt",0);
     45          #elif A2
     46            if (mem) memfree(0, mem,"gt",0);
   \   00000002   0028               CMP      R0,#+0
   \   00000004   05D0               BEQ      ??mfree_0
   \   00000006   0023               MOVS     R3,#+0
   \   00000008   ....               ADR      R2,??DataTable1  ;; "gt"
   \   0000000A   0100               MOVS     R1,R0
   \   0000000C   0020               MOVS     R0,#+0
   \   0000000E   ........           _BLF     memfree,??memfree??rT
     47          #else
     48            memfree(mem,"gt",0);
     49          #endif
     50          }
   \                     ??mfree_0:
   \   00000012   00BD               POP      {PC}             ;; return
     51          

   \                                 In segment CODE, align 4, keep-with-next
     52          void* operator new(size_t sz){return malloc(sz);};
   \                     `??operator new`:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   ....               B.N      ?Subroutine27

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine27:
   \   00000000   ........           BL       malloc
   \   00000004   00BD               POP      {PC}             ;; return

   \                                 In segment CODE, align 4, keep-with-next
     53          void* operator new[](size_t sz){return malloc(sz);};
   \                     `??operator new[]`:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   C046               Nop      
   \   00000004                      REQUIRE ?Subroutine27
   \   00000004                      ;; // Fall through to label ?Subroutine27

   \                                 In segment CODE, align 4, keep-with-next
     54          void operator delete(void * p){mfree(p);};
   \                     `??operator delete`:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   ....               B.N      ?Subroutine28

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine28:
   \   00000000   ........           BL       mfree
   \   00000004   00BD               POP      {PC}             ;; return

   \                                 In segment CODE, align 4, keep-with-next
     55          void operator delete[](void * p){mfree(p);};
   \                     `??operator delete[]`:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   C046               Nop      
   \   00000004                      REQUIRE ?Subroutine28
   \   00000004                      ;; // Fall through to label ?Subroutine28
     56          

   \                                 In segment CODE, align 4, keep-with-next
     57          void* operator new(size_t size, void* p){ return p; }
   \                     `??operator new_1`:
   \   00000000   0800               MOVS     R0,R1
   \   00000002   7047               BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
     58          void* operator new[](size_t size, void* p){ return p; }
   \                     `??operator new[]_1`:
   \   00000000   0800               MOVS     R0,R1
   \   00000002   7047               BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
     59          void operator delete (void*, void*) { }
   \                     `??operator delete_1`:
   \   00000000   7047               BX       LR               ;; return

   \                                 In segment CODE, align 4, keep-with-next
     60          void operator delete[] (void*, void*) { }
   \                     `??operator delete[]_1`:
   \   00000000   7047               BX       LR               ;; return
     61          
     62          int UpdateMainPage(void *, BOOK *Book);
     63          

   \                                 In segment CODE, align 4, keep-with-next
     64          int IsMyBook( BOOK* book )
     65          {
     66            if(strcmp(book->xbook->name, MYBOOKNAME)) return (0);
   \                     ??IsMyBook:
   \   00000000   ....               LDR      R1,??DataTable2  ;; `?<Constant "GotoShortcut_Book">`
   \   00000002   00B5               PUSH     {LR}
   \   00000004   0068               LDR      R0,[R0, #+0]
   \   00000006   4068               LDR      R0,[R0, #+4]
   \   00000008   ........           _BLF     strcmp,??strcmp??rT
   \   0000000C   0028               CMP      R0,#+0
   \   0000000E   01D0               BEQ      ??IsMyBook_1
   \   00000010   0020               MOVS     R0,#+0
   \   00000012   00BD               POP      {PC}
     67            return (1);
   \                     ??IsMyBook_1:
   \   00000014   0120               MOVS     R0,#+1
   \   00000016   00BD               POP      {PC}             ;; return
     68          }
     69          

   \                                 In segment CODE, align 4, keep-with-next
     70          int Menu_Callback(GUI_MESSAGE *Message)
     71          {
   \                     ??Menu_Callback:
   \   00000000   30B5               PUSH     {R4,R5,LR}
   \   00000002   0400               MOVS     R4,R0
     72            MyBOOK *mbk = (MyBOOK*)GUIonMessage_GetBook(Message);
   \   00000004   ........           _BLF     GUIonMessage_GetBook,??GUIonMessage_GetBook??rT
   \   00000008   0500               MOVS     R5,R0
     73            if (!mbk->Items->FirstFree) return(0);
   \   0000000A   E86A               LDR      R0,[R5, #+44]
   \   0000000C   4088               LDRH     R0,[R0, #+2]
   \   0000000E   0028               CMP      R0,#+0
   \   00000010   00D1               BNE      ??Menu_Callback_1
   \   00000012   30BD               POP      {R4,R5,PC}
     74              
     75            switch(GUIonMessage_GetMsg(Message))
   \                     ??Menu_Callback_1:
   \   00000014   2000               MOVS     R0,R4
   \   00000016   ........           _BLF     GUIonMessage_GetMsg,??GUIonMessage_GetMsg??rT
   \   0000001A   0128               CMP      R0,#+1
   \   0000001C   17D1               BNE      ??Menu_Callback_2
     76            {
     77            case LISTMSG_GetItem:
     78              int Index = GUIonMessage_GetCreatedItemIndex(Message);
   \   0000001E   2000               MOVS     R0,R4
   \   00000020   ........           _BLF     GUIonMessage_GetCreatedItemIndex,??GUIonMessage_GetCreatedItemIndex??rT
     79              SHORTCUT *Shortcut = (SHORTCUT*) List_Get(mbk->Items, Index);
   \   00000024   0100               MOVS     R1,R0
   \   00000026   E86A               LDR      R0,[R5, #+44]
   \   00000028   ........           _BLF     List_Get,??List_Get??rT
     80              GUIonMessage_SetMenuItemText(Message, StrID_Get(Shortcut->Caption));
   \   0000002C   ....               LDR      R2,??DataTable7  ;; 0xffff
   \   0000002E   0500               MOVS     R5,R0
   \   00000030   A868               LDR      R0,[R5, #+8]
   \   00000032   0021               MOVS     R1,#+0
   \   00000034   ........           _BLF     TextID_Create,??TextID_Create??rT
   \   00000038   0100               MOVS     R1,R0
   \   0000003A   2000               MOVS     R0,R4
   \   0000003C   ........           _BLF     GUIonMessage_SetMenuItemText,??GUIonMessage_SetMenuItemText??rT
     81              GUIonMessage_SetMenuItemIcon(Message, 0, Shortcut->Icon);
   \   00000040   EA68               LDR      R2,[R5, #+12]
   \   00000042   0021               MOVS     R1,#+0
   \   00000044   1204               LSLS     R2,R2,#+16
   \   00000046   120C               LSRS     R2,R2,#+16
   \   00000048   2000               MOVS     R0,R4
   \   0000004A   ........           _BLF     GUIonMessage_SetMenuItemIcon,??GUIonMessage_SetMenuItemIcon??rT
     82              break;
     83            }
     84            return(1);
   \                     ??Menu_Callback_2:
   \   0000004E   0120               MOVS     R0,#+1
   \   00000050   30BD               POP      {R4,R5,PC}       ;; return
     85          }
     86          

   \                                 In segment CODE, align 4, keep-with-next
     87          void Menu_Back(BOOK *bk, GUI *)
     88          {
   \                     ??Menu_Back:
   \   00000000   00B5               PUSH     {LR}
     89            FreeBook(bk);
   \   00000002   ........           _BLF     FreeBook,??FreeBook??rT
     90          }
   \   00000006   00BD               POP      {PC}             ;; return
     91          

   \                                 In segment CODE, align 4, keep-with-next
     92          void Menu_Select(BOOK *bk, GUI *)
     93          {
   \                     ??Menu_Select:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
     94            MyBOOK *mbk = (MyBOOK*)bk;
     95            SHORTCUT *ShortCut = (SHORTCUT*)List_Get(mbk->Items, ListMenu_GetSelectedItem(mbk->MainMenu));
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
   \   0000000A   0100               MOVS     R1,R0
   \   0000000C   E06A               LDR      R0,[R4, #+44]
   \   0000000E   ........           _BLF     List_Get,??List_Get??rT
     96            if (ShortCut) RunShortcut(ShortCut);
   \   00000012   0028               CMP      R0,#+0
   \   00000014   01D0               BEQ      ??Menu_Select_1
   \   00000016   ........           _BLF     ??RunShortcut,??RunShortcut??rT
     97            FreeBook(bk);
   \                     ??Menu_Select_1:
   \   0000001A   2000               MOVS     R0,R4
   \   0000001C   ........           _BLF     FreeBook,??FreeBook??rT
     98          }
   \   00000020   10BD               POP      {R4,PC}          ;; return
     99          

   \                                 In segment CODE, align 4, keep-with-next
    100          void ShortcutFree(void *Item)
    101          {
   \                     ??ShortcutFree:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    102            SHORTCUT *Shortcut = (SHORTCUT*)Item;
    103            if(Shortcut)
   \   00000004   08D0               BEQ      ??ShortcutFree_1
    104            {
    105              StringFree(Shortcut->sData);
   \   00000006   6068               LDR      R0,[R4, #+4]
   \   00000008   ........           _BLF     ??StringFree,??StringFree??rT
    106              StringFree(Shortcut->Caption);   
   \   0000000C   A068               LDR      R0,[R4, #+8]
   \   0000000E   ........           _BLF     ??StringFree,??StringFree??rT
    107              mfree(Shortcut);
   \   00000012   2000               MOVS     R0,R4
   \   00000014   ........           BL       mfree
    108            }
    109          }
   \                     ??ShortcutFree_1:
   \   00000018   10BD               POP      {R4,PC}          ;; return
    110          

   \                                 In segment CODE, align 4, keep-with-next
    111          void Menu_Delete_Yes(BOOK *Book, GUI *)
    112          {
   \                     ??Menu_Delete_Yes:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    113            MyBOOK *mbk = (MyBOOK*)Book;
    114            void *Item = List_RemoveAt(mbk->Items, ListMenu_GetSelectedItem(mbk->MainMenu));
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
   \   0000000A   0100               MOVS     R1,R0
   \   0000000C   E06A               LDR      R0,[R4, #+44]
   \   0000000E   ........           _BLF     List_RemoveAt,??List_RemoveAt??rT
    115            ShortcutFree(Item);
   \   00000012   ........           BL       ??ShortcutFree
    116            mbk->CurrentPos = ListMenu_GetSelectedItem(mbk->MainMenu) - 1;
   \   00000016   A069               LDR      R0,[R4, #+24]
   \   00000018   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
    117            UpdateMainPage(0, (BOOK*)mbk);
   \   0000001C   ....               LDR      R1,??DataTable8  ;; `?<Constant "GotoShortcut_Book">` + 32
   \   0000001E   401E               SUBS     R0,R0,#+1
   \   00000020   ....               B.N      ?Subroutine29
    118          }

   \                                 In segment CODE, align 4, keep-with-next
   \                     ?Subroutine29:
   \   00000000   A063               STR      R0,[R4, #+56]
   \   00000002   2000               MOVS     R0,R4
   \   00000004   ........           _BLF     BookObj_GotoPage,??BookObj_GotoPage??rT
   \   00000008   10BD               POP      {R4,PC}          ;; return
    119          

   \                                 In segment CODE, align 4, keep-with-next
    120          void Menu_Delete_No(BOOK *Book, GUI *)
    121          {
   \                     ??Menu_Delete_No:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    122            MyBOOK *mbk = (MyBOOK*)Book;
    123            mbk->CurrentPos = ListMenu_GetSelectedItem(mbk->MainMenu);
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
    124            UpdateMainPage(0, Book);
   \   0000000A   ....               LDR      R1,??DataTable8  ;; `?<Constant "GotoShortcut_Book">` + 32
   \   0000000C                      REQUIRE ?Subroutine29
   \   0000000C                      ;; // Fall through to label ?Subroutine29
    125          }
    126          

   \                                 In segment CODE, align 4, keep-with-next
    127          int get_StrID(BOOK* bk)
    128          {
   \                     ??get_StrID:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    129            MyBOOK *mbk = (MyBOOK*)bk;
    130            int item = ListMenu_GetSelectedItem(mbk->MainMenu);
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
    131            SHORTCUT *Shortcut = (SHORTCUT*) List_Get(mbk->Items, item);
   \   0000000A   0100               MOVS     R1,R0
   \   0000000C   E06A               LDR      R0,[R4, #+44]
   \   0000000E   ........           _BLF     List_Get,??List_Get??rT
    132            return (StrID_Get(Shortcut->Caption));
   \   00000012   ....               LDR      R2,??DataTable7  ;; 0xffff
   \   00000014   8068               LDR      R0,[R0, #+8]
   \   00000016   0021               MOVS     R1,#+0
   \   00000018   ........           _BLF     TextID_Create,??TextID_Create??rT
   \   0000001C   10BD               POP      {R4,PC}          ;; return
    133          }
    134          

   \                                 In segment CODE, align 4, keep-with-next
    135          void Menu_Delete(BOOK *bk, GUI *)
    136          {
   \                     ??Menu_Delete:
   \   00000000   30B5               PUSH     {R4,R5,LR}
    137            GUI *Request = CreateYesNoQuestion(bk,0);
   \   00000002   0021               MOVS     R1,#+0
   \   00000004   0400               MOVS     R4,R0
   \   00000006   ........           _BLF     CreateYesNoQuestion,??CreateYesNoQuestion??rT
    138            YesNoQuestion_CreateQuestion(Request, DELETEQ_TXT);
   \   0000000A   1049               LDR      R1,??Menu_Delete_1  ;; 0x2727
   \   0000000C   0500               MOVS     R5,R0
   \   0000000E   ........           _BLF     YesNoQuestion_CreateQuestion,??YesNoQuestion_CreateQuestion??rT
    139            YesNoQuestion_CreatePreQuestion(Request, get_StrID(bk));
   \   00000012   2000               MOVS     R0,R4
    140            GUIObject_SoftKeys_SetAction(Request, ACTION_YES, Menu_Delete_Yes);
    141            GUIObject_SoftKeys_SetAction(Request, ACTION_NO, Menu_Delete_No);
   \   00000014   0E4C               LDR      R4,??Menu_Delete_1+0x4  ;; ??Menu_Delete_No
   \   00000016   ........           BL       ??get_StrID
   \   0000001A   0100               MOVS     R1,R0
   \   0000001C   2800               MOVS     R0,R5
   \   0000001E   ........           _BLF     YesNoQuestion_CreatePreQuestion,??YesNoQuestion_CreatePreQuestion??rT
   \   00000022   0C4A               LDR      R2,??Menu_Delete_1+0x8  ;; ??Menu_Delete_Yes
   \   00000024   0C49               LDR      R1,??Menu_Delete_1+0xC  ;; 0xfc5
   \   00000026   2800               MOVS     R0,R5
   \   00000028   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
   \   0000002C   0B49               LDR      R1,??Menu_Delete_1+0x10  ;; 0xfbe
   \   0000002E   2200               MOVS     R2,R4
   \   00000030   2800               MOVS     R0,R5
   \   00000032   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    142            GUIObject_SoftKeys_SetAction(Request, ACTION_BACK, Menu_Delete_No);
   \   00000036   2200               MOVS     R2,R4
   \   00000038   FC21               MOVS     R1,#+252
   \   0000003A   0901               LSLS     R1,R1,#+4
   \   0000003C   2800               MOVS     R0,R5
   \   0000003E   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    143            GUIObject_Show(Request);
   \   00000042   2800               MOVS     R0,R5
   \   00000044   ........           _BLF     GUIObject_Show,??GUIObject_Show??rT
    144          }
   \   00000048   30BD               POP      {R4,R5,PC}       ;; return
   \   0000004A   C046               Nop      
   \                     ??Menu_Delete_1:
   \   0000004C   27270000           DC32     0x2727
   \   00000050   ........           DC32     ??Menu_Delete_No
   \   00000054   ........           DC32     ??Menu_Delete_Yes
   \   00000058   C50F0000           DC32     0xfc5
   \   0000005C   BE0F0000           DC32     0xfbe
    145          

   \                                 In segment CODE, align 4, keep-with-next
    146          void Menu_About(BOOK *bk, GUI *)
    147          {
   \                     ??Menu_About:
   \   00000000   30B5               PUSH     {R4,R5,LR}
    148            int Text = TextID_Create("GotoShortcut\nv3 rev A\n\n(c) farid\n(r) mobilefree.ru",ENC_LAT1,0xFF);
   \   00000002   FF22               MOVS     R2,#+255
   \   00000004   0400               MOVS     R4,R0
   \   00000006   0748               LDR      R0,??Menu_About_1  ;; `?<Constant "GotoShortcut\\nv3 rev A...">`
   \   00000008   0621               MOVS     R1,#+6
   \   0000000A   ........           _BLF     TextID_Create,??TextID_Create??rT
   \   0000000E   0500               MOVS     R5,R0
    149            MessageBox(EMPTY_TEXTID, Text, NOIMAGE, 1, 0, bk);
   \   00000010   2100               MOVS     R1,R4
   \   00000012   ....               LDR      R2,??DataTable7  ;; 0xffff
   \   00000014   0020               MOVS     R0,#+0
   \   00000016   03B4               PUSH     {R0,R1}
   \   00000018   0348               LDR      R0,??Menu_About_1+0x4  ;; 0x6fffffff
   \   0000001A   0123               MOVS     R3,#+1
   \   0000001C   2900               MOVS     R1,R5
   \   0000001E   ........           _BLF     MessageBox,??MessageBox??rT
    150          }
   \   00000022   3CBD               POP      {R2-R5,PC}       ;; return
   \                     ??Menu_About_1:
   \   00000024   ........           DC32     `?<Constant "GotoShortcut\\nv3 rev A...">`
   \   00000028   FFFFFF6F           DC32     0x6fffffff
    151             

   \                                 In segment CODE, align 4, keep-with-next
    152          void Menu_Add(BOOK *Book, GUI *)
    153          {
   \                     ??Menu_Add:
   \   00000000   30B5               PUSH     {R4,R5,LR}
   \   00000002   0400               MOVS     R4,R0
    154            MyBOOK *mbk = (MyBOOK*)Book;
    155            SHORTCUT *Shortcut = (SHORTCUT *)malloc(sizeof(SHORTCUT));
   \   00000004   1020               MOVS     R0,#+16
   \   00000006   ........           BL       malloc
   \   0000000A   0500               MOVS     R5,R0
    156            memset(Shortcut, 0, sizeof(SHORTCUT));
   \   0000000C   1022               MOVS     R2,#+16
   \   0000000E   0021               MOVS     R1,#+0
   \   00000010   ........           _BLF     memset,??memset??rT
    157            List_InsertFirst(mbk->Items, Shortcut);
   \   00000014   E06A               LDR      R0,[R4, #+44]
   \   00000016   2900               MOVS     R1,R5
   \   00000018   ........           _BLF     List_InsertFirst,??List_InsertFirst??rT
    158            mbk->Current = (SHORTCUT*) List_Get(mbk->Items, 0);
   \   0000001C   E06A               LDR      R0,[R4, #+44]
   \   0000001E   0021               MOVS     R1,#+0
   \   00000020   ........           _BLF     List_Get,??List_Get??rT
   \   00000024   E063               STR      R0,[R4, #+60]
    159            EditorRun((BOOK*)mbk);
   \   00000026   2000               MOVS     R0,R4
   \   00000028   ........           _BLF     ??EditorRun,??EditorRun??rT
    160          }
   \   0000002C   30BD               POP      {R4,R5,PC}       ;; return
    161          

   \                                 In segment CODE, align 4, keep-with-next
    162          void Menu_Modify(BOOK *Book, GUI *Menu)
    163          {
   \                     ??Menu_Modify:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    164            MyBOOK *mbk = (MyBOOK*)Book;
    165            mbk->Current = (SHORTCUT*) List_Get(mbk->Items, ListMenu_GetSelectedItem(mbk->MainMenu));
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   ........           _BLF     ListMenu_GetSelectedItem,??ListMenu_GetSelectedItem??rT
   \   0000000A   0100               MOVS     R1,R0
   \   0000000C   E06A               LDR      R0,[R4, #+44]
   \   0000000E   ........           _BLF     List_Get,??List_Get??rT
   \   00000012   E063               STR      R0,[R4, #+60]
    166            EditorRun((BOOK*)mbk);
   \   00000014   2000               MOVS     R0,R4
   \   00000016   ........           _BLF     ??EditorRun,??EditorRun??rT
    167          }
   \   0000001A   10BD               POP      {R4,PC}          ;; return
    168          

   \                                 In segment CODE, align 4, keep-with-next
    169          int CreateMainPage(void *, BOOK *Book)
    170          {
   \                     ??CreateMainPage:
   \   00000000   F0B5               PUSH     {R4-R7,LR}
   \   00000002   0C00               MOVS     R4,R1
    171            MyBOOK *mbk = (MyBOOK*)Book;
    172            int count = mbk->Items->FirstFree;
   \   00000004   E06A               LDR      R0,[R4, #+44]
   \   00000006   4588               LDRH     R5,[R0, #+2]
    173          
    174            FreeGUI(mbk->MainMenu);
   \   00000008   A069               LDR      R0,[R4, #+24]
   \   0000000A   0028               CMP      R0,#+0
   \   0000000C   03D0               BEQ      ??CreateMainPage_1
   \   0000000E   ........           _BLF     GUIObject_Destroy,??GUIObject_Destroy??rT
   \   00000012   0020               MOVS     R0,#+0
   \   00000014   A061               STR      R0,[R4, #+24]
    175          
    176            mbk->MainMenu = CreateListMenu((BOOK*)mbk, 0);
    177            GUIObject_SetTitleText(mbk->MainMenu, TITLE_TXT);
    178            
    179            ListMenu_SetItemCount(mbk->MainMenu, count);
    180            ListMenu_SetOnMessage(mbk->MainMenu, Menu_Callback); 
    181            ListMenu_SetCursorToItem(mbk->MainMenu, mbk->CurrentPos);
   \                     ??CreateMainPage_1:
   \   00000016   384E               LDR      R6,??CreateMainPage_2  ;; 0x22b3
   \   00000018   384F               LDR      R7,??CreateMainPage_2+0x4  ;; ??Menu_Add
   \   0000001A   0021               MOVS     R1,#+0
   \   0000001C   2000               MOVS     R0,R4
   \   0000001E   ........           _BLF     CreateListMenu,??CreateListMenu??rT
   \   00000022   3749               LDR      R1,??CreateMainPage_2+0x8  ;; 0x2cb0
   \   00000024   A061               STR      R0,[R4, #+24]
   \   00000026   ........           _BLF     GUIObject_SetTitleText,??GUIObject_SetTitleText??rT
   \   0000002A   A069               LDR      R0,[R4, #+24]
   \   0000002C   2900               MOVS     R1,R5
   \   0000002E   ........           _BLF     ListMenu_SetItemCount,??ListMenu_SetItemCount??rT
   \   00000032   3449               LDR      R1,??CreateMainPage_2+0xC  ;; ??Menu_Callback
   \   00000034   A069               LDR      R0,[R4, #+24]
   \   00000036   ........           _BLF     ListMenu_SetOnMessage,??ListMenu_SetOnMessage??rT
   \   0000003A   A16B               LDR      R1,[R4, #+56]
   \   0000003C   A069               LDR      R0,[R4, #+24]
   \   0000003E   ........           _BLF     ListMenu_SetCursorToItem,??ListMenu_SetCursorToItem??rT
   \   00000042   002D               CMP      R5,#+0
   \   00000044   18D1               BNE      ??CreateMainPage_3
    182            
    183            if(!count)
    184            {
    185              ListMenu_SetNoItemText(mbk->MainMenu, EMPTY_LIST_TXT);
   \   00000046   3049               LDR      R1,??CreateMainPage_2+0x10  ;; 0x1544
   \   00000048   A069               LDR      R0,[R4, #+24]
   \   0000004A   ........           _BLF     ListMenu_SetNoItemText,??ListMenu_SetNoItemText??rT
    186              GUIObject_SoftKeys_SetAction(mbk->MainMenu, 0, Menu_Add);
   \   0000004E   A069               LDR      R0,[R4, #+24]
   \   00000050   3A00               MOVS     R2,R7
   \   00000052   0021               MOVS     R1,#+0
   \   00000054   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    187              GUIObject_SoftKeys_SetText(mbk->MainMenu, 0, MENU_ADD_TXT);  
   \   00000058   A069               LDR      R0,[R4, #+24]
   \   0000005A   3200               MOVS     R2,R6
   \   0000005C   0021               MOVS     R1,#+0
   \   0000005E   ........           _BLF     GUIObject_SoftKeys_SetText,??GUIObject_SoftKeys_SetText??rT
    188              GUIObject_SoftKeys_SetAction(mbk->MainMenu, 1, Menu_About);
   \   00000062   2A4A               LDR      R2,??CreateMainPage_2+0x14  ;; ??Menu_About
   \   00000064   A069               LDR      R0,[R4, #+24]
   \   00000066   0121               MOVS     R1,#+1
   \   00000068   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    189              GUIObject_SoftKeys_SetText(mbk->MainMenu, 1, MENU_ABOUT_TXT);
   \   0000006C   284A               LDR      R2,??CreateMainPage_2+0x18  ;; 0xbfa
   \   0000006E   A069               LDR      R0,[R4, #+24]
   \   00000070   0121               MOVS     R1,#+1
   \   00000072   ........           _BLF     GUIObject_SoftKeys_SetText,??GUIObject_SoftKeys_SetText??rT
   \   00000076   2DE0               B        ??CreateMainPage_4
    190            }
    191            else
    192            {
    193              GUIObject_SoftKeys_SetAction(mbk->MainMenu, 0, Menu_Add);
    194              GUIObject_SoftKeys_SetText(mbk->MainMenu, 0, MENU_ADD_TXT);  
    195              GUIObject_SoftKeys_SetAction(mbk->MainMenu, 1, Menu_Modify);
    196              GUIObject_SoftKeys_SetText(mbk->MainMenu, 1, MENU_MODIFY_TXT);
    197              GUIObject_SoftKeys_SetAction(mbk->MainMenu, 2, Menu_About);
    198              GUIObject_SoftKeys_SetText(mbk->MainMenu, 2, MENU_ABOUT_TXT);
    199              GUIObject_SoftKeys_SetAction(mbk->MainMenu, ACTION_DELETE, Menu_Delete);  
   \                     ??CreateMainPage_3:
   \   00000078   264D               LDR      R5,??CreateMainPage_2+0x1C  ;; 0xfb4
   \   0000007A   A069               LDR      R0,[R4, #+24]
   \   0000007C   3A00               MOVS     R2,R7
   \   0000007E   0021               MOVS     R1,#+0
   \   00000080   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
   \   00000084   A069               LDR      R0,[R4, #+24]
   \   00000086   3200               MOVS     R2,R6
   \   00000088   0021               MOVS     R1,#+0
   \   0000008A   ........           _BLF     GUIObject_SoftKeys_SetText,??GUIObject_SoftKeys_SetText??rT
   \   0000008E   224A               LDR      R2,??CreateMainPage_2+0x20  ;; ??Menu_Modify
   \   00000090   A069               LDR      R0,[R4, #+24]
   \   00000092   0121               MOVS     R1,#+1
   \   00000094   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
   \   00000098   204A               LDR      R2,??CreateMainPage_2+0x24  ;; 0x22ae
   \   0000009A   A069               LDR      R0,[R4, #+24]
   \   0000009C   0121               MOVS     R1,#+1
   \   0000009E   ........           _BLF     GUIObject_SoftKeys_SetText,??GUIObject_SoftKeys_SetText??rT
   \   000000A2   1A4A               LDR      R2,??CreateMainPage_2+0x14  ;; ??Menu_About
   \   000000A4   A069               LDR      R0,[R4, #+24]
   \   000000A6   0221               MOVS     R1,#+2
   \   000000A8   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
   \   000000AC   184A               LDR      R2,??CreateMainPage_2+0x18  ;; 0xbfa
   \   000000AE   A069               LDR      R0,[R4, #+24]
   \   000000B0   0221               MOVS     R1,#+2
   \   000000B2   ........           _BLF     GUIObject_SoftKeys_SetText,??GUIObject_SoftKeys_SetText??rT
   \   000000B6   1A4A               LDR      R2,??CreateMainPage_2+0x28  ;; ??Menu_Delete
   \   000000B8   A069               LDR      R0,[R4, #+24]
   \   000000BA   2900               MOVS     R1,R5
   \   000000BC   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    200              GUIObject_SoftKeys_SetVisible(mbk->MainMenu, ACTION_DELETE, FALSE );
   \   000000C0   A069               LDR      R0,[R4, #+24]
   \   000000C2   0022               MOVS     R2,#+0
   \   000000C4   2900               MOVS     R1,R5
   \   000000C6   ........           _BLF     GUIObject_SoftKeys_SetVisible,??GUIObject_SoftKeys_SetVisible??rT
    201              GUIObject_SoftKeys_SetAction(mbk->MainMenu, ACTION_SELECT1, Menu_Select);
   \   000000CA   164A               LDR      R2,??CreateMainPage_2+0x2C  ;; ??Menu_Select
   \   000000CC   1649               LDR      R1,??CreateMainPage_2+0x30  ;; 0xfc2
   \   000000CE   A069               LDR      R0,[R4, #+24]
   \   000000D0   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    202            }
    203            GUIObject_SoftKeys_SetAction(mbk->MainMenu, ACTION_BACK, Menu_Back);
   \                     ??CreateMainPage_4:
   \   000000D4   154D               LDR      R5,??CreateMainPage_2+0x34  ;; ??Menu_Back
   \   000000D6   A069               LDR      R0,[R4, #+24]
   \   000000D8   2A00               MOVS     R2,R5
   \   000000DA   FC21               MOVS     R1,#+252
   \   000000DC   0901               LSLS     R1,R1,#+4
   \   000000DE   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    204            GUIObject_SoftKeys_SetAction(mbk->MainMenu, ACTION_LONG_BACK, Menu_Back);
   \   000000E2   1349               LDR      R1,??CreateMainPage_2+0x38  ;; 0xfaf
   \   000000E4   A069               LDR      R0,[R4, #+24]
   \   000000E6   2A00               MOVS     R2,R5
   \   000000E8   ........           _BLF     GUIObject_SoftKeys_SetAction,??GUIObject_SoftKeys_SetAction??rT
    205            GUIObject_Show(mbk->MainMenu);
   \   000000EC   A069               LDR      R0,[R4, #+24]
   \   000000EE   ........           _BLF     GUIObject_Show,??GUIObject_Show??rT
    206            return(1);
   \   000000F2   0120               MOVS     R0,#+1
   \   000000F4   F0BD               POP      {R4-R7,PC}       ;; return
   \   000000F6   C046               Nop      
   \                     ??CreateMainPage_2:
   \   000000F8   B3220000           DC32     0x22b3
   \   000000FC   ........           DC32     ??Menu_Add
   \   00000100   B02C0000           DC32     0x2cb0
   \   00000104   ........           DC32     ??Menu_Callback
   \   00000108   44150000           DC32     0x1544
   \   0000010C   ........           DC32     ??Menu_About
   \   00000110   FA0B0000           DC32     0xbfa
   \   00000114   B40F0000           DC32     0xfb4
   \   00000118   ........           DC32     ??Menu_Modify
   \   0000011C   AE220000           DC32     0x22ae
   \   00000120   ........           DC32     ??Menu_Delete
   \   00000124   ........           DC32     ??Menu_Select
   \   00000128   C20F0000           DC32     0xfc2
   \   0000012C   ........           DC32     ??Menu_Back
   \   00000130   AF0F0000           DC32     0xfaf
    207          };
    208          

   \                                 In segment CODE, align 4, keep-with-next
    209          int Cancel_BasePage(void *r0, BOOK *bk)
    210          {
   \                     ??Cancel_BasePage:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   0800               MOVS     R0,R1
    211            MyBOOK* mbk = (MyBOOK*)bk;
    212            FreeBook((BOOK*)mbk);
   \   00000004   ........           _BLF     FreeBook,??FreeBook??rT
    213            return(1);
   \   00000008   0120               MOVS     R0,#+1
   \   0000000A   00BD               POP      {PC}             ;; return
    214          }
    215          

   \                                 In segment DATA_C, align 4, align-sorted
    216          const PAGE_MSG bk_msglst_base[] = 
   \                     bk_msglst_base:
   \   00000000   04000000....       DC32 4, ??Cancel_BasePage, 2113, ??Cancel_BasePage, 0, 0H
   \              ....41080000
   \              ........0000
   \              000000000000
    217          {
    218            CANCEL_EVENT,            Cancel_BasePage,
    219            RETURN_TO_STANDBY_EVENT, Cancel_BasePage,
    220            NIL_EVENT,               NULL
    221          };

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "GotoShortcut_Book">`:
   \   00000000   476F746F5368       DC8 "GotoShortcut_Book"
   \              6F7274637574
   \              5F426F6F6B00
   \   00000012   0000               DC8 0, 0
   \   00000014   ........0000       DC32 `?<Constant "Goto_Shortcut_Base_Page">`, 0H, bk_msglst_base
   \              0000........
   \   00000020   ........0000       DC32 `?<Constant "Goto_Shortcut_Main_Page">`, 0H, bk_msglst_main
   \              0000........
    222          const PAGE_DESC bk_base = {BASE_PAGE_NAME,0,bk_msglst_base};
    223          

   \                                 In segment DATA_C, align 4, align-sorted
    224          const PAGE_MSG bk_msglst_main[] = 
   \                     bk_msglst_main:
   \   00000000   0E000000....       DC32 14, ??CreateMainPage, 2, ??UpdateMainPage, 0, 0H
   \              ....02000000
   \              ........0000
   \              000000000000
    225          {
    226            PAGE_ENTER_EVENT,  CreateMainPage,
    227            ACCEPT_EVENT,      UpdateMainPage,
    228            NIL_EVENT,         NULL
    229          };
    230          const PAGE_DESC bk_main = {MAIN_PAGE_NAME,0,bk_msglst_main};
    231          

   \                                 In segment CODE, align 4, keep-with-next
    232          int UpdateMainPage(void *, BOOK *bk)
    233          {
   \                     ??UpdateMainPage:
   \   00000000   00B5               PUSH     {LR}
   \   00000002   0800               MOVS     R0,R1
    234            BookObj_GotoPage(bk, &bk_main);
   \   00000004   ....               LDR      R1,??DataTable8  ;; `?<Constant "GotoShortcut_Book">` + 32
   \   00000006   ........           _BLF     BookObj_GotoPage,??BookObj_GotoPage??rT
    235            return(0);
   \   0000000A   0020               MOVS     R0,#+0
   \   0000000C   00BD               POP      {PC}             ;; return
    236          }
    237          

   \                                 In segment CODE, align 4, keep-with-next
    238          void onBkClose (BOOK* bk)
    239          {
   \                     ??onBkClose:
   \   00000000   10B5               PUSH     {R4,LR}
   \   00000002   0400               MOVS     R4,R0
    240            MyBOOK* mbk = (MyBOOK*)bk;
    241            FreeGUI(mbk->MainMenu);
   \   00000004   A069               LDR      R0,[R4, #+24]
   \   00000006   0028               CMP      R0,#+0
   \   00000008   03D0               BEQ      ??onBkClose_1
   \   0000000A   ........           _BLF     GUIObject_Destroy,??GUIObject_Destroy??rT
   \   0000000E   0020               MOVS     R0,#+0
   \   00000010   A061               STR      R0,[R4, #+24]
    242            SaveConfig(mbk->Items);
   \                     ??onBkClose_1:
   \   00000012   E06A               LDR      R0,[R4, #+44]
    243            FreeList(mbk->Items, ShortcutFree);
   \   00000014   2C34               ADDS     R4,R4,#+44
   \   00000016   ........           _BLF     ??SaveConfig,??SaveConfig??rT
   \   0000001A   0249               LDR      R1,??onBkClose_2  ;; ??ShortcutFree
   \   0000001C   2000               MOVS     R0,R4
   \   0000001E   ........           _BLF     ??FreeList,??FreeList??rT
    244          }
   \   00000022   10BD               POP      {R4,PC}          ;; return
   \                     ??onBkClose_2:
   \   00000024   ........           DC32     ??ShortcutFree
    245          

   \                                 In segment CODE, align 4, keep-with-next
    246          extern "C"
    247          __thumb void GotoShortcut()
    248          {
    249            BOOK * bk = FindBook(IsMyBook);
   \                     GotoShortcut:
   \   00000000   1B48               LDR      R0,??GotoShortcut_0  ;; ??IsMyBook
   \   00000002   70B5               PUSH     {R4-R6,LR}
   \   00000004   ........           _BLF     FindBook,??FindBook??rT
    250            if (bk) BookObj_SetFocus(bk,0);
   \   00000008   0028               CMP      R0,#+0
   \   0000000A   03D0               BEQ      ??GotoShortcut_1
   \   0000000C   0021               MOVS     R1,#+0
   \   0000000E   ........           _BLF     BookObj_SetFocus,??BookObj_SetFocus??rT
   \   00000012   70BD               POP      {R4-R6,PC}
    251            else
    252            {
    253              MyBOOK* mbk = (MyBOOK*)malloc(sizeof(MyBOOK));
    254              memset( mbk, 0, sizeof(MyBOOK));
    255              if (!CreateBook((BOOK*)mbk,onBkClose,&bk_base,MYBOOKNAME,-1,0)) mfree(mbk);
   \                     ??GotoShortcut_1:
   \   00000014   ....               LDR      R5,??DataTable9  ;; `?<Constant "GotoShortcut_Book">`
   \   00000016   4820               MOVS     R0,#+72
   \   00000018   ........           BL       malloc
   \   0000001C   0400               MOVS     R4,R0
   \   0000001E   4822               MOVS     R2,#+72
   \   00000020   0021               MOVS     R1,#+0
   \   00000022   ........           _BLF     memset,??memset??rT
   \   00000026   0021               MOVS     R1,#+0
   \   00000028   0020               MOVS     R0,#+0
   \   0000002A   C043               MVNS     R0,R0
   \   0000002C   03B4               PUSH     {R0,R1}
   \   0000002E   2B00               MOVS     R3,R5
   \   00000030   1049               LDR      R1,??GotoShortcut_0+0x4  ;; ??onBkClose
   \   00000032   2A00               MOVS     R2,R5
   \   00000034   1432               ADDS     R2,R2,#+20
   \   00000036   2000               MOVS     R0,R4
   \   00000038   ........           _BLF     CreateBook,??CreateBook??rT
   \   0000003C   02B0               ADD      SP,SP,#+8
   \   0000003E   0028               CMP      R0,#+0
   \   00000040   02D1               BNE      ??GotoShortcut_2
   \   00000042   2000               MOVS     R0,R4
   \   00000044   ........           BL       mfree
    256              {
    257                mbk->Icons[0] = HPB_OTHER_ICN;
   \                     ??GotoShortcut_2:
   \   00000048   0B48               LDR      R0,??GotoShortcut_0+0x8  ;; 0xebe6
   \   0000004A   2600               MOVS     R6,R4
   \   0000004C   2C36               ADDS     R6,R6,#+44
   \   0000004E   B082               STRH     R0,[R6, #+20]
    258                mbk->Icons[1] = MENU_SETTINGS_ICN;
   \   00000050   C138               SUBS     R0,R0,#+193
   \   00000052   F082               STRH     R0,[R6, #+22]
    259                mbk->Icons[2] = ANIMALS_MOUSE_ICN;
   \   00000054   0948               LDR      R0,??GotoShortcut_0+0xC  ;; 0xe5be
    260                //mbk->Current = NULL;
    261                mbk->CurrentPos = NULL;
    262                mbk->Items = LoadConfig();
    263                BookObj_GotoPage((BOOK*)mbk,&bk_main);
   \   00000056   2035               ADDS     R5,R5,#+32
   \   00000058   3083               STRH     R0,[R6, #+24]
   \   0000005A   0020               MOVS     R0,#+0
   \   0000005C   F060               STR      R0,[R6, #+12]
   \   0000005E   ........           _BLF     ??LoadConfig,??LoadConfig??rT
   \   00000062   3060               STR      R0,[R6, #+0]
   \   00000064   2900               MOVS     R1,R5
   \   00000066   2000               MOVS     R0,R4
   \   00000068   ........           _BLF     BookObj_GotoPage,??BookObj_GotoPage??rT
    264              }
    265            }
    266          }
   \   0000006C   70BD               POP      {R4-R6,PC}       ;; return
   \   0000006E   C046               Nop      
   \                     ??GotoShortcut_0:
   \   00000070   ........           DC32     ??IsMyBook
   \   00000074   ........           DC32     ??onBkClose
   \   00000078   E6EB0000           DC32     0xebe6
   \   0000007C   BEE50000           DC32     0xe5be

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   67740000           DC8      "gt",+0

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable2:
   \   00000000   ........           DC32     `?<Constant "GotoShortcut_Book">`

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   FFFF0000           DC32     0xffff

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable8:
   \   00000000   ........           DC32     `?<Constant "GotoShortcut_Book">` + 32

   \                                 In segment CODE, align 4, keep-with-next
   \                     ??DataTable9:
   \   00000000   ........           DC32     `?<Constant "GotoShortcut_Book">`

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Goto_Shortcut_Base_Page">`:
   \   00000000   476F746F5F53       DC8 "Goto_Shortcut_Base_Page"
   \              686F72746375
   \              745F42617365
   \              5F5061676500

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "Goto_Shortcut_Main_Page">`:
   \   00000000   476F746F5F53       DC8 "Goto_Shortcut_Main_Page"
   \              686F72746375
   \              745F4D61696E
   \              5F5061676500

   \                                 In segment DATA_C, align 1, align-sorted
   \   00000000   677400             DC8 "gt"

   \                                 In segment DATA_C, align 4, align-sorted
   \                     `?<Constant "GotoShortcut\\nv3 rev A...">`:
   \   00000000   476F746F5368       DC8 47H, 6FH, 74H, 6FH, 53H, 68H, 6FH, 72H
   \              6F72        
   \   00000008   746375740A76       DC8 74H, 63H, 75H, 74H, 0AH, 76H, 33H, 20H
   \              3320        
   \   00000010   72657620410A       DC8 72H, 65H, 76H, 20H, 41H, 0AH, 0AH, 28H
   \              0A28        
   \   00000018   632920666172       DC8 63H, 29H, 20H, 66H, 61H, 72H, 69H, 64H
   \              6964        
   \   00000020   0A287229206D       DC8 0AH, 28H, 72H, 29H, 20H, 6DH, 6FH, 62H
   \              6F62        
   \   00000028   696C65667265       DC8 69H, 6CH, 65H, 66H, 72H, 65H, 65H, 2EH
   \              652E        
   \   00000030   727500             DC8 72H, 75H, 0
   \   00000033   00                 DC8 0

   Maximum stack usage in bytes:

     Function                       CSTACK
     --------                       ------
     Cancel_BasePage(void *, BOOK *)
                                        4
     CreateMainPage(void *, BOOK *)    20
     GotoShortcut                      24
     IsMyBook(BOOK *)                   4
     Menu_About(BOOK *, GUI *)         20
     Menu_Add(BOOK *, GUI *)           12
     Menu_Back(BOOK *, GUI *)           4
     Menu_Callback(GUI_MESSAGE *)      12
     Menu_Delete(BOOK *, GUI *)        12
     Menu_Delete_No(BOOK *, GUI *)      8
     Menu_Delete_Yes(BOOK *, GUI *)     8
     Menu_Modify(BOOK *, GUI *)         8
     Menu_Select(BOOK *, GUI *)         8
     ShortcutFree(void *)               8
     UpdateMainPage(void *, BOOK *)     4
     get_StrID(BOOK *)                  8
     malloc                            16
     mfree                              4
     onBkClose(BOOK *)                  8
     operator delete(void *)            4
     operator delete(void *, void *)
                                        0
     operator delete[](void *)          4
     operator delete[](void *, void *)
                                        0
     operator new(size_t)               4
     operator new(size_t, void *)       0
     operator new[](size_t)             4
     operator new[](size_t, void *)     0


   Segment part sizes:

     Function/Label                 Bytes
     --------------                 -----
     malloc                           26
     mfree                            20
     operator new(size_t)              4
     ?Subroutine27                     6
     operator new[](size_t)            4
     operator delete(void *)           4
     ?Subroutine28                     6
     operator delete[](void *)         4
     operator new(size_t, void *)      4
     operator new[](size_t, void *)    4
     operator delete(void *, void *)
                                       2
     operator delete[](void *, void *)
                                       2
     IsMyBook(BOOK *)                 24
     Menu_Callback(GUI_MESSAGE *)     82
     Menu_Back(BOOK *, GUI *)          8
     Menu_Select(BOOK *, GUI *)       34
     ShortcutFree(void *)             26
     Menu_Delete_Yes(BOOK *, GUI *)   34
     ?Subroutine29                    10
     Menu_Delete_No(BOOK *, GUI *)    12
     get_StrID(BOOK *)                30
     Menu_Delete(BOOK *, GUI *)       96
     Menu_About(BOOK *, GUI *)        44
     Menu_Add(BOOK *, GUI *)          46
     Menu_Modify(BOOK *, GUI *)       28
     CreateMainPage(void *, BOOK *)  308
     Cancel_BasePage(void *, BOOK *)
                                      12
     bk_msglst_base                   24
     ?<Constant "GotoShortcut_Book">
                                      44
     bk_msglst_main                   24
     UpdateMainPage(void *, BOOK *)   14
     onBkClose(BOOK *)                40
     GotoShortcut                    128
     ??DataTable1                      4
     ??DataTable2                      4
     ??DataTable7                      4
     ??DataTable8                      4
     ??DataTable9                      4
     ?<Constant "Goto_Shortcut_Base_Page">
                                      24
     ?<Constant "Goto_Shortcut_Main_Page">
                                      24
     ?<Constant "gt">                  3
     ?<Constant "GotoShortcut\nv3 rev A...">
                                      52
      Others                         568

 
 1 650 bytes in segment CODE
   195 bytes in segment DATA_C
 
 1 082 bytes of CODE  memory (+ 568 bytes shared)
   195 bytes of CONST memory

Errors: none
Warnings: none
